<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Rope-Glide: Assets/Editor/Doxygen/DoxygenWindow.cs Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Rope-Glide
   &#160;<span id="projectnumber">Release 1</span>
   </div>
   <div id="projectbrief">2D iOS app that allows circle man to swing from clouds while avoiding mace man</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_84bbf7b3c7f28a5a18725745e1505219.html">Assets</a></li><li class="navelem"><a class="el" href="dir_a61728ed8d39ae932c553f4837da35dd.html">Editor</a></li><li class="navelem"><a class="el" href="dir_38c0671d8e669cdaf9fe4d0c8e0456be.html">Doxygen</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">DoxygenWindow.cs</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">Permission is hereby granted, free of charge, to any person  obtaining a copy of this software and associated documentation  files (the &quot;Software&quot;), to deal in the Software without  restriction, including without limitation the rights to use,  copy, modify, merge, publish, distribute, sublicense, and/or sell  copies of the Software, and to permit persons to whom the  Software is furnished to do so, subject to the following conditions:</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="keyword">using</span> <a class="code" href="namespaceUnityEngine.html">UnityEngine</a>;</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="keyword">using</span> <a class="code" href="namespaceUnityEditor.html">UnityEditor</a>;</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="keyword">using</span> System;</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="keyword">using</span> System.Collections;</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="keyword">using</span> System.Collections.Generic;</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="keyword">using</span> System.Diagnostics;</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="keyword">using</span> System.IO;</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="keyword">using</span> System.Threading;</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="keyword">using</span> System.Text;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="keyword">using</span> System.Text.RegularExpressions;</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160; </div>
<div class="line"><a name="l00020"></a><span class="lineno"><a class="line" href="classDoxygenConfig.html">   20</a></span>&#160;<span class="keyword">public</span> <span class="keyword">class </span><a class="code" href="classDoxygenConfig.html">DoxygenConfig</a></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;{</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;    <span class="keyword">public</span> <span class="keywordtype">string</span> Project = PlayerSettings.productName;</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;    <span class="keyword">public</span> <span class="keywordtype">string</span> Synopsis = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    <span class="keyword">public</span> <span class="keywordtype">string</span> Version = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    <span class="keyword">public</span> <span class="keywordtype">string</span> ScriptsDirectory = Application.dataPath;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <span class="keyword">public</span> <span class="keywordtype">string</span> DocDirectory = Application.dataPath.Replace(<span class="stringliteral">&quot;Assets&quot;</span>, <span class="stringliteral">&quot;Docs&quot;</span>);</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    <span class="keyword">public</span> <span class="keywordtype">string</span> PathtoDoxygen = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160; </div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;}</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160; </div>
<div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="classDoxygenWindow.html">   36</a></span>&#160;<span class="keyword">public</span> <span class="keyword">class </span><a class="code" href="classDoxygenWindow.html">DoxygenWindow</a> : EditorWindow </div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;{</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <a class="code" href="classDoxygenWindow.html">DoxygenWindow</a> Instance;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <span class="keyword">public</span> <span class="keyword">enum</span> WindowModes{Generate,Configuration,About}</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <span class="keyword">public</span> <span class="keywordtype">string</span> UnityProjectID = PlayerSettings.productName+<span class="stringliteral">&quot;:&quot;</span>;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <span class="keyword">public</span> <span class="keywordtype">string</span> AssestsFolder = Application.dataPath;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="keyword">public</span> <span class="keywordtype">string</span>[] Themes = <span class="keyword">new</span> <span class="keywordtype">string</span>[3] {<span class="stringliteral">&quot;Default&quot;</span>, <span class="stringliteral">&quot;Dark and Colorful&quot;</span>, <span class="stringliteral">&quot;Light and Clean&quot;</span>};</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="keyword">public</span> <span class="keywordtype">int</span> SelectedTheme = 1;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    WindowModes DisplayMode = WindowModes.Generate;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <span class="keyword">static</span> <a class="code" href="classDoxygenConfig.html">DoxygenConfig</a> Config;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">bool</span> DoxyFileExists = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    StringReader reader;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    TextAsset basefile;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="keywordtype">float</span> DoxyfileCreateProgress = -1.0f;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="keywordtype">float</span> DoxyoutputProgress = -1.0f;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="keywordtype">string</span> CreateProgressString = <span class="stringliteral">&quot;Creating Doxyfile..&quot;</span>;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="keyword">public</span> <span class="keywordtype">string</span> BaseFileString = <span class="keyword">null</span>;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keyword">public</span> <span class="keywordtype">string</span> DoxygenOutputString = <span class="keyword">null</span>;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="keyword">public</span> <span class="keywordtype">string</span> CurentOutput = <span class="keyword">null</span>;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <a class="code" href="classDoxyThreadSafeOutput.html">DoxyThreadSafeOutput</a> DoxygenOutput = <span class="keyword">null</span>; </div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    List&lt;string&gt; DoxygenLog = <span class="keyword">null</span>;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keywordtype">bool</span> ViewLog = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    Vector2 scroll;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="keywordtype">bool</span> DocsGenerated = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160; </div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    [MenuItem( <span class="stringliteral">&quot;Window/Documentation with Doxygen&quot;</span> )]</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> Init()</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    {</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        Instance = (<a class="code" href="classDoxygenWindow.html">DoxygenWindow</a>)EditorWindow.GetWindow( typeof( <a class="code" href="classDoxygenWindow.html">DoxygenWindow</a> ), <span class="keyword">false</span>, <span class="stringliteral">&quot;Documentation&quot;</span> );</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        Instance.minSize = <span class="keyword">new</span> Vector2( 420, 245 );</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        Instance.maxSize = <span class="keyword">new</span> Vector2( 420, 720 );</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160; </div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    }</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="keywordtype">void</span> OnEnable()</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    {</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        LoadConfig();</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        DoxyoutputProgress = 0;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    }</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160; </div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keywordtype">void</span> OnDisable()</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    {</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        DoxyoutputProgress = 0;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        DoxygenLog = <span class="keyword">null</span>;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    }</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160; </div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keywordtype">void</span> OnGUI()</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    {</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        DisplayHeadingToolbar();</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        <span class="keywordflow">switch</span>(DisplayMode)</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        {</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;            <span class="keywordflow">case</span> WindowModes.Generate:</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                GenerateGUI();</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160; </div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;            <span class="keywordflow">case</span> WindowModes.Configuration:</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                ConfigGUI();</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;            <span class="keywordflow">case</span> WindowModes.About:</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                AboutGUI();</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        }</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    }</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160; </div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keywordtype">void</span> DisplayHeadingToolbar()</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    {</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        GUIStyle normalButton = <span class="keyword">new</span> GUIStyle( EditorStyles.toolbarButton );</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        normalButton.fixedWidth = 140;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        GUILayout.Space (5);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        EditorGUILayout.BeginHorizontal( EditorStyles.toolbar );</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        {</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;            <span class="keywordflow">if</span>( GUILayout.Toggle( DisplayMode == WindowModes.Generate, <span class="stringliteral">&quot;Generate Documentation&quot;</span>, normalButton ) )</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            {</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                DoxyfileCreateProgress = -1;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                DisplayMode = WindowModes.Generate;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            }</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            <span class="keywordflow">if</span>( GUILayout.Toggle( DisplayMode == WindowModes.Configuration, <span class="stringliteral">&quot;Settings/Configuration&quot;</span>, normalButton ) )</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;            {</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                DisplayMode = WindowModes.Configuration;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;            }</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;            <span class="keywordflow">if</span>( GUILayout.Toggle( DisplayMode == WindowModes.About, <span class="stringliteral">&quot;About&quot;</span>, normalButton ) )</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            {</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                DoxyfileCreateProgress = -1;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                DisplayMode = WindowModes.About;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;            }</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        }</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        EditorGUILayout.EndHorizontal();</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    }   </div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160; </div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="keywordtype">void</span> ConfigGUI()</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    {</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        GUILayout.Space (10);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <span class="keywordflow">if</span>(Config.Project == <span class="stringliteral">&quot;Enter your Project name (Required)&quot;</span> || Config.Project == <span class="stringliteral">&quot;&quot;</span> || Config.PathtoDoxygen == <span class="stringliteral">&quot;&quot;</span> )</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;            GUI.enabled = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        <span class="keywordflow">if</span>(GUILayout.Button (<span class="stringliteral">&quot;Save Configuration and Build new DoxyFile&quot;</span>, GUILayout.Height(40)))</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        {</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            MakeNewDoxyFile(Config);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        }</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        <span class="keywordflow">if</span>(DoxyfileCreateProgress &gt;= 0)</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        {</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;            Rect r = EditorGUILayout.BeginVertical();</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;            EditorGUI.ProgressBar(r, DoxyfileCreateProgress, CreateProgressString);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            GUILayout.Space(16);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;            EditorGUILayout.EndVertical();</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        }</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        GUI.enabled = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160; </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        GUILayout.Space (20);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        GUILayout.Label(<span class="stringliteral">&quot;Set Path to Doxygen Install&quot;</span>,EditorStyles.boldLabel);</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        GUILayout.Space (5);</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        EditorGUILayout.BeginHorizontal();</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        Config.PathtoDoxygen = EditorGUILayout.TextField(<span class="stringliteral">&quot;Doxygen.exe : &quot;</span>,Config.PathtoDoxygen);</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <span class="keywordflow">if</span>(GUILayout.Button (<span class="stringliteral">&quot;...&quot;</span>,EditorStyles.miniButtonRight, GUILayout.Width(22)))</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;             Config.PathtoDoxygen = EditorUtility.OpenFilePanel  (<span class="stringliteral">&quot;Where is doxygen.exe installed?&quot;</span>,<span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        EditorGUILayout.EndHorizontal();</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160; </div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160; </div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        GUILayout.Space (20);</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        GUILayout.Label(<span class="stringliteral">&quot;Provide some details about the project&quot;</span>,EditorStyles.boldLabel);</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        GUILayout.Space (5);</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        Config.Project = EditorGUILayout.TextField(<span class="stringliteral">&quot;Project Name: &quot;</span>,Config.Project);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        Config.Synopsis = EditorGUILayout.TextField(<span class="stringliteral">&quot;Project Brief: &quot;</span>,Config.Synopsis);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        Config.Version = EditorGUILayout.TextField(<span class="stringliteral">&quot;Project Version: &quot;</span>,Config.Version);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        </div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        GUILayout.Space (15);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        GUILayout.Label(<span class="stringliteral">&quot;Select Theme&quot;</span>,EditorStyles.boldLabel);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        GUILayout.Space (5);</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        SelectedTheme = EditorGUILayout.Popup(SelectedTheme,Themes) ;       </div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160; </div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        GUILayout.Space (20);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        GUILayout.Label(<span class="stringliteral">&quot;Setup the Directories&quot;</span>,EditorStyles.boldLabel);</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        GUILayout.Space (5);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        EditorGUILayout.BeginHorizontal();</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        Config.ScriptsDirectory = EditorGUILayout.TextField(<span class="stringliteral">&quot;Scripts folder: &quot;</span>,Config.ScriptsDirectory);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <span class="keywordflow">if</span>(GUILayout.Button (<span class="stringliteral">&quot;...&quot;</span>,EditorStyles.miniButtonRight, GUILayout.Width(22)))</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;             Config.ScriptsDirectory = EditorUtility.OpenFolderPanel(<span class="stringliteral">&quot;Select your scripts folder&quot;</span>, Config.ScriptsDirectory, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        EditorGUILayout.EndHorizontal();</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        GUILayout.Space (5);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        EditorGUILayout.BeginHorizontal();</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        Config.DocDirectory = EditorGUILayout.TextField(<span class="stringliteral">&quot;Output folder: &quot;</span>,Config.DocDirectory);</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <span class="keywordflow">if</span>(GUILayout.Button (<span class="stringliteral">&quot;...&quot;</span>,EditorStyles.miniButtonRight, GUILayout.Width(22)))</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;             Config.DocDirectory = EditorUtility.OpenFolderPanel(<span class="stringliteral">&quot;Select your ouput Docs folder&quot;</span>, Config.DocDirectory, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        EditorGUILayout.EndHorizontal();</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        GUILayout.Space (5);</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        EditorGUILayout.BeginHorizontal();</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        GUILayout.Space (5);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        GUILayout.Space (30);</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        GUILayout.Label(<span class="stringliteral">&quot;By default Doxygen will search through your whole Assets folder for C# script files to document. Then it will output the documentation it generates into a folder called \&quot;Docs\&quot; that is placed in your project folder next to the Assets folder. If you would like to set a specific script or output folder you can do so above. &quot;</span>,EditorStyles.wordWrappedMiniLabel);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        GUILayout.Space (30);</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        EditorGUILayout.EndHorizontal();</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    }</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160; </div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keywordtype">void</span> AboutGUI()</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    {</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        GUIStyle CenterLable = <span class="keyword">new</span> GUIStyle(EditorStyles.largeLabel);</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        GUIStyle littletext = <span class="keyword">new</span> GUIStyle(EditorStyles.miniLabel) ;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        CenterLable.alignment = TextAnchor.MiddleCenter;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        GUILayout.Space (20);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        GUILayout.Label( <span class="stringliteral">&quot;Automatic C# Documentation Generation through Doxygen&quot;</span>,CenterLable);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        GUILayout.Label( <span class="stringliteral">&quot;Version: 1.0&quot;</span>,CenterLable);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        GUILayout.Label( <span class="stringliteral">&quot;By: Jacob Pennock&quot;</span>,CenterLable);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160; </div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        GUILayout.Space (20);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        EditorGUILayout.BeginHorizontal();</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        GUILayout.Space (20);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        GUILayout.Label( <span class="stringliteral">&quot;Follow me for more Unity tips and tricks&quot;</span>,littletext);</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        GUILayout.Space (15);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <span class="keywordflow">if</span>(GUILayout.Button( <span class="stringliteral">&quot;twitter&quot;</span>))</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;            Application.OpenURL(<span class="stringliteral">&quot;http://twitter.com/@JacobPennock&quot;</span>);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        GUILayout.Space (20);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        EditorGUILayout.EndHorizontal();</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160; </div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        GUILayout.Space (10);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        EditorGUILayout.BeginHorizontal();</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        GUILayout.Space (20);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        GUILayout.Label( <span class="stringliteral">&quot;Visit my site for more plugins and tutorials&quot;</span>,littletext);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <span class="keywordflow">if</span>(GUILayout.Button( <span class="stringliteral">&quot;JacobPennock.com&quot;</span>))</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            Application.OpenURL(<span class="stringliteral">&quot;http://www.jacobpennock.com/Blog/?cat=19&quot;</span>);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        GUILayout.Space (20);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        EditorGUILayout.EndHorizontal();</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    }</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160; </div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keywordtype">void</span> GenerateGUI()</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    {</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <span class="keywordflow">if</span>(DoxyFileExists)</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        {</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            <span class="comment">//UnityEngine.Debug.Log(DoxyoutputProgress);</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            GUILayout.Space (10);</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;            <span class="keywordflow">if</span>(!DocsGenerated)</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                GUI.enabled = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            <span class="keywordflow">if</span>(GUILayout.Button (<span class="stringliteral">&quot;Browse Documentation&quot;</span>, GUILayout.Height(40)))</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                Application.OpenURL(<span class="stringliteral">&quot;File://&quot;</span>+Config.DocDirectory+<span class="stringliteral">&quot;/html/annotated.html&quot;</span>);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;            GUI.enabled = <span class="keyword">true</span>; </div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160; </div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;            <span class="keywordflow">if</span>(DoxygenOutput == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;            {</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                <span class="keywordflow">if</span>(GUILayout.Button (<span class="stringliteral">&quot;Run Doxygen&quot;</span>, GUILayout.Height(40)))</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                {</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                    DocsGenerated = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                    RunDoxygen();</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                }</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                    </div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                <span class="keywordflow">if</span>(DocsGenerated &amp;&amp; DoxygenLog != <span class="keyword">null</span>)</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                {</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                    <span class="keywordflow">if</span>(GUILayout.Button( <span class="stringliteral">&quot;View Doxygen Log&quot;</span>,EditorStyles.toolbarDropDown))</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                        ViewLog = !ViewLog;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                    <span class="keywordflow">if</span>(ViewLog)</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                    {</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                        scroll = EditorGUILayout.BeginScrollView(scroll, GUILayout.ExpandHeight(<span class="keyword">true</span>));</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                        <span class="keywordflow">foreach</span>(<span class="keywordtype">string</span> logitem <span class="keywordflow">in</span> DoxygenLog)</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                        {</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                            EditorGUILayout.SelectableLabel(logitem,EditorStyles.miniLabel,GUILayout.ExpandWidth(<span class="keyword">true</span>));</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                        }</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                        EditorGUILayout.EndScrollView();</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                    }</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                }</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;            }</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;            {</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                <span class="keywordflow">if</span>(DoxygenOutput.isStarted() &amp;&amp; !DoxygenOutput.isFinished())</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                {</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                    <span class="keywordtype">string</span> currentline = DoxygenOutput.ReadLine();</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                    DoxyoutputProgress = DoxyoutputProgress + 0.1f;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                    <span class="keywordflow">if</span>(DoxyoutputProgress &gt;= 0.9f)</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                        DoxyoutputProgress = 0.75f;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                    Rect r = EditorGUILayout.BeginVertical();</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                    EditorGUI.ProgressBar(r, DoxyoutputProgress,currentline );</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                    GUILayout.Space(40);</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                    EditorGUILayout.EndVertical();</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                }</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                <span class="keywordflow">if</span>(DoxygenOutput.isFinished())</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                {</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                    <span class="keywordflow">if</span> (Event.current.type == EventType.Repaint)</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                    {</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                        <span class="comment">/*</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment">                        If you look at what SetTheme is doing, I know, it seems a little scary to be </span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment">                        calling file moving operations from inside a an OnGUI call like this. And </span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment">                        maybe it would be a better choice to call SetTheme and update these other vars</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="comment">                        from inside of the OnDoxygenFinished callback. But since the callback is static</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment">                        that would require a little bit of messy singleton instance checking to make sure</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="comment">                        the call back was calling into the right functions. I did try to do it that way</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="comment">                        but for some reason the file operations failed every time. I&#39;m not sure why.</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="comment">                        This is what I was getting from the debugger:</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="comment">                        </span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment">                        Error in file: C:/BuildAgent/work/842f9551727e852/Runtime/Mono/MonoManager.cpp at line 2212</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment">                        UnityEditor.FileUtil:DeleteFileOrDirectory(String)</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment">                        UnityEditor.FileUtil:ReplaceFile(String, String) (at C:\BuildAgent\work\842f9557127e852\Editor\MonoGenerated\Editor\FileUtil.cs:42)</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="comment">                        Doing them here seems to work every time and the Repaint event check ensures that they will only be done once.</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment">                        */</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                        SetTheme(SelectedTheme);</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                        DoxygenLog = DoxygenOutput.ReadFullLog();</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                        DoxyoutputProgress = -1.0f;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                        DoxygenOutput = <span class="keyword">null</span>;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                        DocsGenerated = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                        EditorPrefs.SetBool(UnityProjectID+<span class="stringliteral">&quot;DocsGenerated&quot;</span>,DocsGenerated);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                    }</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                }</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            }</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        }</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        {</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            GUIStyle ErrorLabel = <span class="keyword">new</span> GUIStyle(EditorStyles.largeLabel);</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            ErrorLabel.alignment = TextAnchor.MiddleCenter;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;            GUILayout.Space(20);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            GUI.contentColor = Color.red;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;            GUILayout.Label(<span class="stringliteral">&quot;You must set the path to your Doxygen install and \nbuild a new Doxyfile before you can generate documentation&quot;</span>,ErrorLabel);</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        }</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    }</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160; </div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="keyword">public</span> <span class="keywordtype">void</span> readBaseConfig()</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    {</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        basefile = (TextAsset)Resources.Load(<span class="stringliteral">&quot;BaseDoxyfile&quot;</span>, typeof(TextAsset));</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        reader = <span class="keyword">new</span> StringReader(basefile.text);</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        <span class="keywordflow">if</span> ( reader == <span class="keyword">null</span> )</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;           <a class="code" href="namespaceUnityEngine.html">UnityEngine</a>.Debug.LogError(<span class="stringliteral">&quot;BaseDoxyfile not found or not readable&quot;</span>);</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;           BaseFileString = reader.ReadToEnd();</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    }</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160; </div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keyword">public</span> <span class="keywordtype">void</span> MakeNewDoxyFile(<a class="code" href="classDoxygenConfig.html">DoxygenConfig</a> config)</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    {</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        SaveConfigtoEditor(config);</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        CreateProgressString = <span class="stringliteral">&quot;Creating Output Folder&quot;</span>;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        DoxyfileCreateProgress = 0.1f;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        System.IO.Directory.CreateDirectory(config.DocDirectory);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160; </div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        DoxyfileCreateProgress = 0.1f;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        <span class="keywordtype">string</span> newfile = BaseFileString.Replace(<span class="stringliteral">&quot;PROJECT_NAME           =&quot;</span>, <span class="stringliteral">&quot;PROJECT_NAME           = &quot;</span>+<span class="stringliteral">&quot;\&quot;&quot;</span>+config.Project+<span class="stringliteral">&quot;\&quot;&quot;</span>);</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        DoxyfileCreateProgress = 0.2f;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        newfile = newfile.Replace(<span class="stringliteral">&quot;PROJECT_NUMBER         =&quot;</span>, <span class="stringliteral">&quot;PROJECT_NUMBER         = &quot;</span>+config.Version);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        DoxyfileCreateProgress = 0.3f;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        newfile = newfile.Replace(<span class="stringliteral">&quot;PROJECT_BRIEF          =&quot;</span>, <span class="stringliteral">&quot;PROJECT_BRIEF          = &quot;</span>+<span class="stringliteral">&quot;\&quot;&quot;</span>+config.Synopsis+<span class="stringliteral">&quot;\&quot;&quot;</span>);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        DoxyfileCreateProgress = 0.4f;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        newfile = newfile.Replace(<span class="stringliteral">&quot;OUTPUT_DIRECTORY       =&quot;</span>, <span class="stringliteral">&quot;OUTPUT_DIRECTORY       = &quot;</span>+<span class="stringliteral">&quot;\&quot;&quot;</span>+config.DocDirectory+<span class="stringliteral">&quot;\&quot;&quot;</span>);</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        DoxyfileCreateProgress = 0.5f;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        newfile = newfile.Replace(<span class="stringliteral">&quot;INPUT                  =&quot;</span>, <span class="stringliteral">&quot;INPUT                  = &quot;</span>+<span class="stringliteral">&quot;\&quot;&quot;</span>+config.ScriptsDirectory+<span class="stringliteral">&quot;\&quot;&quot;</span>);</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        DoxyfileCreateProgress = 0.6f;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160; </div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        <span class="keywordflow">switch</span>(SelectedTheme)</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        {</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;            <span class="keywordflow">case</span> 0:</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                newfile = newfile.Replace(<span class="stringliteral">&quot;GENERATE_TREEVIEW      = NO&quot;</span>, <span class="stringliteral">&quot;GENERATE_TREEVIEW      = YES&quot;</span>);</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;            <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                newfile = newfile.Replace(<span class="stringliteral">&quot;SEARCHENGINE           = YES&quot;</span>, <span class="stringliteral">&quot;SEARCHENGINE           = NO&quot;</span>);</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                newfile = newfile.Replace(<span class="stringliteral">&quot;CLASS_DIAGRAMS         = YES&quot;</span>, <span class="stringliteral">&quot;CLASS_DIAGRAMS         = NO&quot;</span>);</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        }</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160; </div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        CreateProgressString = <span class="stringliteral">&quot;New Options Set&quot;</span>;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160; </div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        sb.Append(newfile);</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        StreamWriter NewDoxyfile = <span class="keyword">new</span> StreamWriter(config.DocDirectory + <span class="stringliteral">@&quot;\Doxyfile&quot;</span>);</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        </div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        NewDoxyfile.Write(sb.ToString());</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        NewDoxyfile.Close();</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        DoxyfileCreateProgress = 1.0f;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        CreateProgressString = <span class="stringliteral">&quot;New Doxyfile Created!&quot;</span>;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        DoxyFileExists = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        EditorPrefs.SetBool(UnityProjectID+<span class="stringliteral">&quot;DoxyFileExists&quot;</span>,DoxyFileExists);</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    }</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160; </div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="keywordtype">void</span> SaveConfigtoEditor(<a class="code" href="classDoxygenConfig.html">DoxygenConfig</a> config)</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    {</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        EditorPrefs.SetString(UnityProjectID+<span class="stringliteral">&quot;DoxyProjectName&quot;</span>,config.Project);</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        EditorPrefs.SetString(UnityProjectID+<span class="stringliteral">&quot;DoxyProjectNumber&quot;</span>,config.Version);</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        EditorPrefs.SetString(UnityProjectID+<span class="stringliteral">&quot;DoxyProjectBrief&quot;</span>,config.Synopsis);</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        EditorPrefs.SetString(UnityProjectID+<span class="stringliteral">&quot;DoxyProjectFolder&quot;</span>,config.ScriptsDirectory);</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        EditorPrefs.SetString(UnityProjectID+<span class="stringliteral">&quot;DoxyProjectOutput&quot;</span>,config.DocDirectory);</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        EditorPrefs.SetString(<span class="stringliteral">&quot;DoxyEXE&quot;</span>, config.PathtoDoxygen);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        EditorPrefs.SetInt(UnityProjectID+<span class="stringliteral">&quot;DoxyTheme&quot;</span>, SelectedTheme);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    }</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160; </div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="keywordtype">void</span> LoadConfig()</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    {</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        <span class="keywordflow">if</span>(BaseFileString == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;            readBaseConfig();</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        <span class="keywordflow">if</span>(Config == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        {</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;            <span class="keywordflow">if</span>(!LoadSavedConfig())</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                Config = <span class="keyword">new</span> <a class="code" href="classDoxygenConfig.html">DoxygenConfig</a>();</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        }   </div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        <span class="keywordflow">if</span>(EditorPrefs.HasKey(UnityProjectID+<span class="stringliteral">&quot;DoxyFileExists&quot;</span>))</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;            DoxyFileExists = EditorPrefs.GetBool(UnityProjectID+<span class="stringliteral">&quot;DoxyFileExists&quot;</span>);</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        <span class="keywordflow">if</span>(EditorPrefs.HasKey(UnityProjectID+<span class="stringliteral">&quot;DocsGenerated&quot;</span>))</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;            DocsGenerated = EditorPrefs.GetBool(UnityProjectID+<span class="stringliteral">&quot;DocsGenerated&quot;</span>);</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <span class="keywordflow">if</span>(EditorPrefs.HasKey(UnityProjectID+<span class="stringliteral">&quot;DoxyTheme&quot;</span>))</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;            SelectedTheme = EditorPrefs.GetInt(UnityProjectID+<span class="stringliteral">&quot;DoxyTheme&quot;</span>);</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        <span class="keywordflow">if</span>(EditorPrefs.HasKey(<span class="stringliteral">&quot;DoxyEXE&quot;</span>))</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            Config.PathtoDoxygen = EditorPrefs.GetString(<span class="stringliteral">&quot;DoxyEXE&quot;</span>);</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    }</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160; </div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="keywordtype">bool</span> LoadSavedConfig()</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    {</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        <span class="keywordflow">if</span>( EditorPrefs.HasKey (UnityProjectID+<span class="stringliteral">&quot;DoxyProjectName&quot;</span>))</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        {</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;            Config = <span class="keyword">new</span> <a class="code" href="classDoxygenConfig.html">DoxygenConfig</a>();</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;            Config.Project = EditorPrefs.GetString(UnityProjectID+<span class="stringliteral">&quot;DoxyProjectName&quot;</span>);</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;            Config.Version = EditorPrefs.GetString(UnityProjectID+<span class="stringliteral">&quot;DoxyProjectNumber&quot;</span>);</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;            Config.Synopsis = EditorPrefs.GetString(UnityProjectID+<span class="stringliteral">&quot;DoxyProjectBrief&quot;</span>);</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;            Config.DocDirectory = EditorPrefs.GetString(UnityProjectID+<span class="stringliteral">&quot;DoxyProjectOutput&quot;</span>);</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;            Config.ScriptsDirectory = EditorPrefs.GetString(UnityProjectID+<span class="stringliteral">&quot;DoxyProjectFolder&quot;</span>);                </div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        }</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    }</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160; </div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> OnDoxygenFinished(<span class="keywordtype">int</span> code)</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    {</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        <span class="keywordflow">if</span>(code != 0)</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        {</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;            <a class="code" href="namespaceUnityEngine.html">UnityEngine</a>.Debug.LogError(<span class="stringliteral">&quot;Doxygen finsished with Error: return code &quot;</span> + code +<span class="stringliteral">&quot;\nCheck the Doxgen Log for Errors.\nAlso try regenerating your Doxyfile,\nyou will new to close and reopen the\ndocumentation window before regenerating.&quot;</span>);</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        }</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    }</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160; </div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="keywordtype">void</span> SetTheme(<span class="keywordtype">int</span> theme)</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    {</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        <span class="keywordflow">switch</span>(theme)</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        {</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;            <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                FileUtil.ReplaceFile(AssestsFolder + <span class="stringliteral">&quot;/Editor/Doxygen/Resources/DarkTheme/doxygen.css&quot;</span>, Config.DocDirectory+<span class="stringliteral">&quot;/html/doxygen.css&quot;</span>);</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                FileUtil.ReplaceFile(AssestsFolder + <span class="stringliteral">&quot;/Editor/Doxygen/Resources/DarkTheme/tabs.css&quot;</span>, Config.DocDirectory+<span class="stringliteral">&quot;/html/tabs.css&quot;</span>);</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                FileUtil.ReplaceFile(AssestsFolder + <span class="stringliteral">&quot;/Editor/Doxygen/Resources/DarkTheme/img_downArrow.png&quot;</span>, Config.DocDirectory+<span class="stringliteral">&quot;/html/img_downArrow.png&quot;</span>);</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;            <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                FileUtil.ReplaceFile(AssestsFolder + <span class="stringliteral">&quot;/Editor/Doxygen/Resources/LightTheme/doxygen.css&quot;</span>, Config.DocDirectory+<span class="stringliteral">&quot;/html/doxygen.css&quot;</span>);</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                FileUtil.ReplaceFile(AssestsFolder + <span class="stringliteral">&quot;/Editor/Doxygen/Resources/LightTheme/tabs.css&quot;</span>, Config.DocDirectory+<span class="stringliteral">&quot;/html/tabs.css&quot;</span>);</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                FileUtil.ReplaceFile(AssestsFolder + <span class="stringliteral">&quot;/Editor/Doxygen/Resources/LightTheme/img_downArrow.png&quot;</span>, Config.DocDirectory+<span class="stringliteral">&quot;/html/img_downArrow.png&quot;</span>);</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                FileUtil.ReplaceFile(AssestsFolder + <span class="stringliteral">&quot;/Editor/Doxygen/Resources/LightTheme/background_navigation.png&quot;</span>, Config.DocDirectory+<span class="stringliteral">&quot;/html/background_navigation.png&quot;</span>);</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        }</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    }</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160; </div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <span class="keyword">public</span> <span class="keywordtype">void</span> RunDoxygen()</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    {</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        <span class="keywordtype">string</span>[] Args = <span class="keyword">new</span> <span class="keywordtype">string</span>[1];</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        Args[0] = Config.DocDirectory + <span class="stringliteral">&quot;/Doxyfile&quot;</span>;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160; </div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        DoxygenOutput = <span class="keyword">new</span> <a class="code" href="classDoxyThreadSafeOutput.html">DoxyThreadSafeOutput</a>();</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        DoxygenOutput.SetStarted();</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160; </div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;        Action&lt;int&gt; setcallback = (<span class="keywordtype">int</span> returnCode) =&gt; OnDoxygenFinished(returnCode);</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160; </div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        <a class="code" href="classDoxyRunner.html">DoxyRunner</a> Doxygen = <span class="keyword">new</span> <a class="code" href="classDoxyRunner.html">DoxyRunner</a>(Config.PathtoDoxygen,Args,DoxygenOutput,setcallback);</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160; </div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        Thread DoxygenThread = <span class="keyword">new</span> Thread(<span class="keyword">new</span> ThreadStart(Doxygen.RunThreadedDoxy));</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        DoxygenThread.Start();</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    }</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160; </div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;}</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160; </div>
<div class="line"><a name="l00454"></a><span class="lineno"><a class="line" href="classDoxyRunner.html">  454</a></span>&#160;<span class="keyword">public</span> <span class="keyword">class </span><a class="code" href="classDoxyRunner.html">DoxyRunner</a></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;{</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <a class="code" href="classDoxyThreadSafeOutput.html">DoxyThreadSafeOutput</a> SafeOutput;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <span class="keyword">public</span> Action&lt;int&gt; onCompleteCallBack;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    List&lt;string&gt; DoxyLog = <span class="keyword">new</span> List&lt;string&gt;();</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <span class="keyword">public</span> <span class="keywordtype">string</span> EXE = <span class="keyword">null</span>;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <span class="keyword">public</span> <span class="keywordtype">string</span>[] Args;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">string</span> WorkingFolder;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160; </div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <span class="keyword">public</span> <a class="code" href="classDoxyRunner.html">DoxyRunner</a>(<span class="keywordtype">string</span> exepath, <span class="keywordtype">string</span>[] args,<a class="code" href="classDoxyThreadSafeOutput.html">DoxyThreadSafeOutput</a> safeoutput,Action&lt;int&gt; callback)</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    {</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        EXE = exepath;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        Args = args;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        SafeOutput = safeoutput;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        onCompleteCallBack = callback;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        WorkingFolder = FileUtil.GetUniqueTempPathInProject();</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        System.IO.Directory.CreateDirectory(WorkingFolder);</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    }</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160; </div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="keyword">public</span> <span class="keywordtype">void</span> updateOuputString(<span class="keywordtype">string</span> output)</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    {</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        SafeOutput.WriteLine(output);</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        DoxyLog.Add(output);</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    }</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160; </div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <span class="keyword">public</span> <span class="keywordtype">void</span> RunThreadedDoxy()</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    {</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        Action&lt;string&gt; GetOutput = (<span class="keywordtype">string</span> output) =&gt; updateOuputString(output);</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        <span class="keywordtype">int</span> ReturnCode = <a class="code" href="classDoxyRunner.html#a7458975df0c43d397051f225d6def184">Run</a>(GetOutput,<span class="keyword">null</span>,EXE,Args);</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        SafeOutput.WriteFullLog(DoxyLog);</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        SafeOutput.SetFinished();</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        onCompleteCallBack(ReturnCode);</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    }</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160; </div>
<div class="line"><a name="l00499"></a><span class="lineno"><a class="line" href="classDoxyRunner.html#a7458975df0c43d397051f225d6def184">  499</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="classDoxyRunner.html#a7458975df0c43d397051f225d6def184">Run</a>(Action&lt;string&gt; output, TextReader input, <span class="keywordtype">string</span> exe, params <span class="keywordtype">string</span>[] args)</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    {</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        <span class="keywordflow">if</span> (String.IsNullOrEmpty(exe))</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;            <span class="keywordflow">throw</span> <span class="keyword">new</span> FileNotFoundException();</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        <span class="keywordflow">if</span> (output == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;            <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(<span class="stringliteral">&quot;output&quot;</span>);</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160; </div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        ProcessStartInfo psi = <span class="keyword">new</span> ProcessStartInfo();</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        psi.UseShellExecute = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        psi.RedirectStandardError = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        psi.RedirectStandardOutput = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        psi.RedirectStandardInput = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        psi.WindowStyle = ProcessWindowStyle.Hidden;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        psi.CreateNoWindow = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        psi.ErrorDialog = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        psi.WorkingDirectory = WorkingFolder;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        psi.FileName = <a class="code" href="classDoxyRunner.html#a0923bf6769c3b99b4fb8e9ce67877a94">FindExePath</a>(exe); </div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        psi.Arguments = <a class="code" href="classDoxyRunner.html#a9e1ad0bb37f42899aeac2e2fb59cb769">EscapeArguments</a>(args); </div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160; </div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        <span class="keyword">using</span> (Process process = Process.Start(psi))</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        <span class="keyword">using</span> (ManualResetEvent mreOut = <span class="keyword">new</span> ManualResetEvent(<span class="keyword">false</span>),</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;               mreErr = <span class="keyword">new</span> ManualResetEvent(<span class="keyword">false</span>))</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        {</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;            process.OutputDataReceived += (o, e) =&gt; { <span class="keywordflow">if</span> (e.Data == <span class="keyword">null</span>) mreOut.Set(); <span class="keywordflow">else</span> output(e.Data); };</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        process.BeginOutputReadLine();</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;            process.ErrorDataReceived += (o, e) =&gt; { <span class="keywordflow">if</span> (e.Data == <span class="keyword">null</span>) mreErr.Set(); <span class="keywordflow">else</span> output(e.Data); };</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        process.BeginErrorReadLine();</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160; </div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;            <span class="keywordtype">string</span> line;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;            <span class="keywordflow">while</span> (input != <span class="keyword">null</span> &amp;&amp; <span class="keyword">null</span> != (line = input.ReadLine()))</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;                process.StandardInput.WriteLine(line);</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160; </div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;            process.StandardInput.Close();</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;            process.WaitForExit();</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160; </div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;            mreOut.WaitOne();</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;            mreErr.WaitOne();</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;            <span class="keywordflow">return</span> process.ExitCode;</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        }</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    }</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160; </div>
<div class="line"><a name="l00548"></a><span class="lineno"><a class="line" href="classDoxyRunner.html#a9e1ad0bb37f42899aeac2e2fb59cb769">  548</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">string</span> <a class="code" href="classDoxyRunner.html#a9e1ad0bb37f42899aeac2e2fb59cb769">EscapeArguments</a>(params <span class="keywordtype">string</span>[] args)</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    {</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        StringBuilder arguments = <span class="keyword">new</span> StringBuilder();</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        Regex invalidChar = <span class="keyword">new</span> Regex(<span class="stringliteral">&quot;[\x00\x0a\x0d]&quot;</span>);<span class="comment">//  these can not be escaped</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        Regex needsQuotes = <span class="keyword">new</span> Regex(<span class="stringliteral">@&quot;\s|&quot;&quot;&quot;</span>);<span class="comment">//          contains whitespace or two quote characters</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        Regex escapeQuote = <span class="keyword">new</span> Regex(<span class="stringliteral">@&quot;(\\*)(&quot;&quot;|$)&quot;</span>);<span class="comment">//    one or more &#39;\&#39; followed with a quote or end of string</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> carg = 0; args != <span class="keyword">null</span> &amp;&amp; carg &lt; args.Length; carg++)</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        {</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;            <span class="keywordflow">if</span> (args[carg] == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;            {</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(<span class="stringliteral">&quot;args[&quot;</span> + carg + <span class="stringliteral">&quot;]&quot;</span>);</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;            }</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;            <span class="keywordflow">if</span> (invalidChar.IsMatch(args[carg]))</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;            {</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentOutOfRangeException(<span class="stringliteral">&quot;args[&quot;</span> + carg + <span class="stringliteral">&quot;]&quot;</span>);</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;            }</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;            <span class="keywordflow">if</span> (args[carg] == String.Empty)</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;            {</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;                arguments.Append(<span class="stringliteral">&quot;\&quot;\&quot;&quot;</span>);</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;            }</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!needsQuotes.IsMatch(args[carg]))</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;            {</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                arguments.Append(args[carg]);</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;            }</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;            {</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;                arguments.Append(<span class="charliteral">&#39;&quot;&#39;</span>);</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;                arguments.Append(escapeQuote.Replace(args[carg], m =&gt;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;                                                     m.Groups[1].Value + m.Groups[1].Value +</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                                                     (m.Groups[2].Value == <span class="stringliteral">&quot;\&quot;&quot;</span> ? <span class="stringliteral">&quot;\\\&quot;&quot;</span> : <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                                                    ));</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                arguments.Append(<span class="charliteral">&#39;&quot;&#39;</span>);</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;            }</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;            <span class="keywordflow">if</span> (carg + 1 &lt; args.Length)</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                arguments.Append(<span class="charliteral">&#39; &#39;</span>);</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        }</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        <span class="keywordflow">return</span> arguments.ToString();</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    }</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160; </div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160; </div>
<div class="line"><a name="l00595"></a><span class="lineno"><a class="line" href="classDoxyRunner.html#a0923bf6769c3b99b4fb8e9ce67877a94">  595</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">string</span> <a class="code" href="classDoxyRunner.html#a0923bf6769c3b99b4fb8e9ce67877a94">FindExePath</a>(<span class="keywordtype">string</span> exe)</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    {</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        exe = Environment.ExpandEnvironmentVariables(exe);</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        <span class="keywordflow">if</span> (!File.Exists(exe))</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        {</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;            <span class="keywordflow">if</span> (Path.GetDirectoryName(exe) == String.Empty)</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;            {</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;                <span class="keywordflow">foreach</span> (<span class="keywordtype">string</span> test <span class="keywordflow">in</span> (Environment.GetEnvironmentVariable(<span class="stringliteral">&quot;PATH&quot;</span>) ?? <span class="stringliteral">&quot;&quot;</span>).Split(<span class="charliteral">&#39;;&#39;</span>))</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                {</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                    <span class="keywordtype">string</span> path = test.Trim();</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;                    <span class="keywordflow">if</span> (!String.IsNullOrEmpty(path) &amp;&amp; File.Exists(path = Path.Combine(path, exe)))</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                        <span class="keywordflow">return</span> Path.GetFullPath(path);</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;                }</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;            }</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;            <span class="keywordflow">throw</span> <span class="keyword">new</span> FileNotFoundException(<span class="keyword">new</span> FileNotFoundException().Message, exe);</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        }</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        <span class="keywordflow">return</span> Path.GetFullPath(exe);</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    }   </div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;}   </div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160; </div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160; </div>
<div class="line"><a name="l00619"></a><span class="lineno"><a class="line" href="classDoxyThreadSafeOutput.html">  619</a></span>&#160;<span class="keyword">public</span> <span class="keyword">class </span><a class="code" href="classDoxyThreadSafeOutput.html">DoxyThreadSafeOutput</a></div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;{</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;   <span class="keyword">private</span> ReaderWriterLockSlim outputLock = <span class="keyword">new</span> ReaderWriterLockSlim();</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;   <span class="keyword">private</span> <span class="keywordtype">string</span> CurrentOutput = <span class="stringliteral">&quot;&quot;</span>;  </div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;   <span class="keyword">private</span> List&lt;string&gt; FullLog = <span class="keyword">new</span> List&lt;string&gt;();</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;   <span class="keyword">private</span> <span class="keywordtype">bool</span> Finished = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;   <span class="keyword">private</span> <span class="keywordtype">bool</span> Started = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160; </div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;   <span class="keyword">public</span> <span class="keywordtype">string</span> ReadLine( )</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;   {</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        outputLock.EnterReadLock();</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        <span class="keywordflow">try</span></div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;        {</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;            <span class="keywordflow">return</span> CurrentOutput;</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        }</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;        <span class="keywordflow">finally</span></div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;        {</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;            outputLock.ExitReadLock();</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        }</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    }</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160; </div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;   <span class="keyword">public</span> <span class="keywordtype">void</span> SetFinished( )</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;   {</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        outputLock.EnterWriteLock();</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;        <span class="keywordflow">try</span></div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;        {</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;            Finished = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;        }</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;        <span class="keywordflow">finally</span></div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;        {</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;            outputLock.ExitWriteLock();</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;        }</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    }</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160; </div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;   <span class="keyword">public</span> <span class="keywordtype">void</span> SetStarted( )</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;   {</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;        outputLock.EnterWriteLock();</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        <span class="keywordflow">try</span></div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        {</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;            Started = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;        }</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;        <span class="keywordflow">finally</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        {</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;            outputLock.ExitWriteLock();</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;        }</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    }</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160; </div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;   <span class="keyword">public</span> <span class="keywordtype">bool</span> isStarted( )</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;   {</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;        outputLock.EnterReadLock();</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;        <span class="keywordflow">try</span></div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        {</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;            <span class="keywordflow">return</span> Started;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;        }</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        <span class="keywordflow">finally</span></div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        {</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;            outputLock.ExitReadLock();</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        }</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    }</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160; </div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;   <span class="keyword">public</span> <span class="keywordtype">bool</span> isFinished( )</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;   {</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;        outputLock.EnterReadLock();</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        <span class="keywordflow">try</span></div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;        {</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;            <span class="keywordflow">return</span> Finished;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;        }</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        <span class="keywordflow">finally</span></div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        {</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;            outputLock.ExitReadLock();</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        }</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    }</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;   </div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;   <span class="keyword">public</span> List&lt;string&gt; ReadFullLog()</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;   {</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        outputLock.EnterReadLock();</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;        <span class="keywordflow">try</span></div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;        {</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;            <span class="keywordflow">return</span> FullLog;</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        }</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;        <span class="keywordflow">finally</span></div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;        {</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;            outputLock.ExitReadLock();</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        } </div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;   }</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160; </div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;   <span class="keyword">public</span> <span class="keywordtype">void</span> WriteFullLog(List&lt;string&gt; newLog)</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;   {</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;        outputLock.EnterWriteLock();</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;        <span class="keywordflow">try</span></div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;        {</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;           FullLog = newLog;</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;        }</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;        <span class="keywordflow">finally</span></div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;        {</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;            outputLock.ExitWriteLock();</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;        } </div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;   }</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160; </div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;   <span class="keyword">public</span> <span class="keywordtype">void</span> WriteLine(<span class="keywordtype">string</span> newOutput)</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    {</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;        outputLock.EnterWriteLock();</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;        <span class="keywordflow">try</span></div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        {</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;            CurrentOutput = newOutput;</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;        }</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;        <span class="keywordflow">finally</span></div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;        {</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;            outputLock.ExitWriteLock();</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;        }</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    }</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;}</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160; </div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160; </div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aclassDoxygenWindow_html"><div class="ttname"><a href="classDoxygenWindow.html">DoxygenWindow</a></div><div class="ttdef"><b>Definition:</b> <a href="DoxygenWindow_8cs_source.html#l00036">DoxygenWindow.cs:36</a></div></div>
<div class="ttc" id="aclassDoxyRunner_html"><div class="ttname"><a href="classDoxyRunner.html">DoxyRunner</a></div><div class="ttdoc">This class spawns and runs Doxygen in a separate thread, and could serve as an example of how to crea...</div><div class="ttdef"><b>Definition:</b> <a href="DoxygenWindow_8cs_source.html#l00454">DoxygenWindow.cs:454</a></div></div>
<div class="ttc" id="aclassDoxyRunner_html_a7458975df0c43d397051f225d6def184"><div class="ttname"><a href="classDoxyRunner.html#a7458975df0c43d397051f225d6def184">DoxyRunner.Run</a></div><div class="ttdeci">static int Run(Action&lt; string &gt; output, TextReader input, string exe, params string[] args)</div><div class="ttdoc">Runs the specified executable with the provided arguments and returns the process' exit code.</div><div class="ttdef"><b>Definition:</b> <a href="DoxygenWindow_8cs_source.html#l00499">DoxygenWindow.cs:499</a></div></div>
<div class="ttc" id="aclassDoxygenConfig_html"><div class="ttname"><a href="classDoxygenConfig.html">DoxygenConfig</a></div><div class="ttdef"><b>Definition:</b> <a href="DoxygenWindow_8cs_source.html#l00020">DoxygenWindow.cs:20</a></div></div>
<div class="ttc" id="aclassDoxyRunner_html_a9e1ad0bb37f42899aeac2e2fb59cb769"><div class="ttname"><a href="classDoxyRunner.html#a9e1ad0bb37f42899aeac2e2fb59cb769">DoxyRunner.EscapeArguments</a></div><div class="ttdeci">static string EscapeArguments(params string[] args)</div><div class="ttdoc">Quotes all arguments that contain whitespace, or begin with a quote and returns a single argument str...</div><div class="ttdef"><b>Definition:</b> <a href="DoxygenWindow_8cs_source.html#l00548">DoxygenWindow.cs:548</a></div></div>
<div class="ttc" id="aclassDoxyRunner_html_a0923bf6769c3b99b4fb8e9ce67877a94"><div class="ttname"><a href="classDoxyRunner.html#a0923bf6769c3b99b4fb8e9ce67877a94">DoxyRunner.FindExePath</a></div><div class="ttdeci">static string FindExePath(string exe)</div><div class="ttdoc">Expands environment variables and, if unqualified, locates the exe in the working directory or the ev...</div><div class="ttdef"><b>Definition:</b> <a href="DoxygenWindow_8cs_source.html#l00595">DoxygenWindow.cs:595</a></div></div>
<div class="ttc" id="aclassDoxyThreadSafeOutput_html"><div class="ttname"><a href="classDoxyThreadSafeOutput.html">DoxyThreadSafeOutput</a></div><div class="ttdoc">This class encapsulates the data output by Doxygen so it can be shared with Unity in a thread share w...</div><div class="ttdef"><b>Definition:</b> <a href="DoxygenWindow_8cs_source.html#l00619">DoxygenWindow.cs:619</a></div></div>
<div class="ttc" id="anamespaceUnityEditor_html"><div class="ttname"><a href="namespaceUnityEditor.html">UnityEditor</a></div><div class="ttdef"><b>Definition:</b> <a href="CollabAnalytics_8cs_source.html#l00003">CollabAnalytics.cs:3</a></div></div>
<div class="ttc" id="anamespaceUnityEngine_html"><div class="ttname"><a href="namespaceUnityEngine.html">UnityEngine</a></div><div class="ttdef"><b>Definition:</b> <a href="AchievementStepTests_8cs_source.html#l00004">AchievementStepTests.cs:4</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
